jobs:
- job: PUBLISH_DOCUMENTATION
  condition: and(eq(variables.publish_docs, true), not(variables['Build.Reason'], 'PullRequest'))
  
  pool:
    vmImage: 'ubuntu-16.04'

  steps:
  - checkout: self

  - bash: |
      apt-get install doxygen
      apt-get install doxygen-doc
      apt-get install doxygen-gui
      apt-get install graphviz

      cd ./Documentation
      doxygen Doxyfile
      echo "" > html/.nojekyll